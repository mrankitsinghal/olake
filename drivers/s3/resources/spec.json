{
  "type": "object",
  "properties": {
    "bucket_name": {
      "type": "string",
      "title": "S3 Bucket Name",
      "description": "Name of the S3 bucket containing your data files"
    },
    "region": {
      "type": "string",
      "title": "AWS Region",
      "description": "AWS region where the bucket is located (e.g., us-east-1)",
      "default": "us-east-1"
    },
    "path_prefix": {
      "type": "string",
      "title": "Path Prefix",
      "description": "S3 path prefix to filter files (optional)",
      "default": ""
    },
    "access_key_id": {
      "type": "string",
      "title": "Access Key ID",
      "description": "AWS access key ID for authentication"
    },
    "secret_access_key": {
      "type": "string",
      "title": "Secret Access Key",
      "description": "AWS secret access key for authentication",
      "format": "password",
      "minLength": 1
    },
    "endpoint": {
      "type": "string",
      "title": "Custom Endpoint",
      "description": "Custom S3-compatible endpoint URL (e.g., http://localhost:9000 for MinIO)",
      "default": ""
    },
    "file_format": {
      "type": "string",
      "title": "File Format",
      "description": "Format of files to process",
      "enum": ["csv", "json", "parquet"],
      "default": "csv"
    },
    "compression": {
      "type": "string",
      "title": "Compression Type",
      "description": "Compression format of the files",
      "enum": ["none", "gzip", "zip"],
      "default": "none"
    },
    "delimiter": {
      "type": "string",
      "title": "CSV Delimiter",
      "description": "Delimiter character for CSV files",
      "default": ","
    },
    "has_header": {
      "type": "boolean",
      "title": "CSV Has Header",
      "description": "Whether CSV files contain a header row",
      "default": true
    },
    "skip_rows": {
      "type": "integer",
      "title": "Skip Rows",
      "description": "Number of rows to skip at the beginning of CSV files",
      "default": 0,
      "minimum": 0
    },
    "quote_character": {
      "type": "string",
      "title": "Quote Character",
      "description": "Quote character for CSV fields",
      "default": "\""
    },
    "json_line_delimited": {
      "type": "boolean",
      "title": "JSON Line Delimited",
      "description": "Use line-delimited JSON (JSONL) format instead of JSON array",
      "default": true
    },
    "file_pattern": {
      "type": "string",
      "title": "File Pattern",
      "description": "Regular expression to filter files by name (optional)",
      "default": ""
    },
    "max_threads": {
      "type": "integer",
      "title": "Max Threads",
      "description": "Maximum number of concurrent file processors",
      "default": 3,
      "minimum": 1,
      "maximum": 20
    },
    "batch_size": {
      "type": "integer",
      "title": "Batch Size",
      "description": "Number of records to process in a single batch",
      "default": 10000,
      "minimum": 100,
      "maximum": 100000
    },
    "retry_count": {
      "type": "integer",
      "title": "Retry Count",
      "description": "Number of retry attempts for failed operations",
      "default": 3,
      "minimum": 0,
      "maximum": 10
    }
  },
  "required": [
    "bucket_name",
    "region",
    "access_key_id",
    "secret_access_key",
    "file_format"
  ]
}
